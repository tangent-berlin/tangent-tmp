{
  "published": true,
  "title": "@upstash/redis",
  "description": "A fully typed Redis client built for Upstash Redis and HTTP, perfect for serverless and edge runtimes.",
  "date": "2022-03-14T00:00:00.000Z",
  "url": "https://upstash.com/redis",
  "repository": "upstash/upstash-redis",
  "body": {
    "raw": "\r\nUpstash is a cloud-based service provider that offers a Redis-compatible service. In addition to that, we have also created an npm package called `@upstash/redis`. This package provides a strongly typed Redis client that uses HTTP instead of TCP to communicate with the database, making it perfect for serverless and edge runtimes.\r\n\r\nRedis is a popular open-source, in-memory data structure store that can be used as a database, cache, and message broker. It is commonly used for web applications that require fast data access and manipulation. Redis clients communicate with Redis servers using the Redis protocol over TCP/IP.\r\n\r\nHowever, in some cases, TCP is not available. For example, edge functions run on cloud platforms, which often block TCP connections for various reasons. This is where `@upstash/redis` comes in handy. Instead of using TCP, it uses HTTP to communicate with the servers.\r\n\r\nThe package is designed to be easy to use and provides a simple API for Redis commands. It also includes support for Redis transactions and Lua scripting. It is written in TypeScript, which provides static typing and better code completion in modern editors.\r\n\r\nOne of the main benefits of using `@upstash/redis` is that it is strongly typed. This means that you get better type checking and error handling in your code. Additionally, the package is designed to be lightweight and optimized for performance. This makes it an excellent choice for applications that require fast data access and manipulation.\r\n\r\n```ts\r\nimport { Redis } from \"@upstash/redis\"\r\n\r\nconst redis = new Redis({\r\n  url: <UPSTASH_REDIS_REST_URL>,\r\n  token: <UPSTASH_REDIS_REST_TOKEN>,\r\n})\r\n\r\n// string\r\nawait redis.set('key', 'value');\r\nlet data = await redis.get('key');\r\nconsole.log(data)\r\n\r\nawait redis.set('key2', 'value2', {ex: 1});\r\n\r\n// sorted set\r\nawait redis.zadd('scores', { score: 1, member: 'team1' })\r\ndata = await redis.zrange('scores', 0, 100 )\r\nconsole.log(data)\r\n\r\n// list\r\nawait redis.lpush('elements', 'magnesium')\r\ndata = await redis.lrange('elements', 0, 100 )\r\nconsole.log(data)\r\n```",
    "code": "var Component=(()=>{var p=Object.create;var c=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var F=(l,e)=>()=>(e||l((e={exports:{}}).exports,e),e.exports),u=(l,e)=>{for(var n in e)c(l,n,{get:e[n],enumerable:!0})},o=(l,e,n,a)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of E(e))!m.call(l,r)&&r!==n&&c(l,r,{get:()=>e[r],enumerable:!(a=h(e,r))||a.enumerable});return l};var g=(l,e,n)=>(n=l!=null?p(y(l)):{},o(e||!l||!l.__esModule?c(n,\"default\",{value:l,enumerable:!0}):n,l)),f=l=>o(c({},\"__esModule\",{value:!0}),l);var t=F((b,i)=>{i.exports=_jsx_runtime});var v={};u(v,{default:()=>T,frontmatter:()=>B});var s=g(t()),B={title:\"@upstash/redis\",description:\"A fully typed Redis client built for Upstash Redis and HTTP, perfect for serverless and edge runtimes.\",date:\"2022-03-14\",url:\"https://upstash.com/redis\",repository:\"upstash/upstash-redis\",published:!0};function d(l){let e=Object.assign({p:\"p\",code:\"code\",div:\"div\",pre:\"pre\",span:\"span\"},l.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:[\"Upstash is a cloud-based service provider that offers a Redis-compatible service. In addition to that, we have also created an npm package called \",(0,s.jsx)(e.code,{children:\"@upstash/redis\"}),\". This package provides a strongly typed Redis client that uses HTTP instead of TCP to communicate with the database, making it perfect for serverless and edge runtimes.\"]}),`\n`,(0,s.jsx)(e.p,{children:\"Redis is a popular open-source, in-memory data structure store that can be used as a database, cache, and message broker. It is commonly used for web applications that require fast data access and manipulation. Redis clients communicate with Redis servers using the Redis protocol over TCP/IP.\"}),`\n`,(0,s.jsxs)(e.p,{children:[\"However, in some cases, TCP is not available. For example, edge functions run on cloud platforms, which often block TCP connections for various reasons. This is where \",(0,s.jsx)(e.code,{children:\"@upstash/redis\"}),\" comes in handy. Instead of using TCP, it uses HTTP to communicate with the servers.\"]}),`\n`,(0,s.jsx)(e.p,{children:\"The package is designed to be easy to use and provides a simple API for Redis commands. It also includes support for Redis transactions and Lua scripting. It is written in TypeScript, which provides static typing and better code completion in modern editors.\"}),`\n`,(0,s.jsxs)(e.p,{children:[\"One of the main benefits of using \",(0,s.jsx)(e.code,{children:\"@upstash/redis\"}),\" is that it is strongly typed. This means that you get better type checking and error handling in your code. Additionally, the package is designed to be lightweight and optimized for performance. This makes it an excellent choice for applications that require fast data access and manipulation.\"]}),`\n`,(0,s.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,s.jsx)(e.pre,{\"data-language\":\"ts\",\"data-theme\":\"default\",children:(0,s.jsxs)(e.code,{\"data-language\":\"ts\",\"data-theme\":\"default\",children:[(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"import\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" { Redis } \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"from\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:'\"@upstash/redis\"'})]}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"const\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"redis\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"new\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"Redis\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"({\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  url: <\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"UPSTASH_REDIS_REST_URL\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">,\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"  token: <\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"UPSTASH_REDIS_REST_TOKEN\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\">,\"})]}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"})\"})}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:(0,s.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// string\"})}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" redis.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'key'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'value'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"let\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" data \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" redis.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"get\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'key'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data)\"})]}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" redis.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"set\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'key2'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'value2'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", {ex: \"}),(0,s.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"});\"})]}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:(0,s.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// sorted set\"})}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" redis.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"zadd\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'scores'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", { score: \"}),(0,s.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"1\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", member: \"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'team1'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" })\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" redis.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"zrange\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'scores'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" )\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data)\"})]}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:\" \"}),`\n`,(0,s.jsx)(e.span,{className:\"line\",children:(0,s.jsx)(e.span,{style:{color:\"#6A737D\"},children:\"// list\"})}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" redis.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"lpush\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'elements'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'magnesium'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\")\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"data \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"=\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" \"}),(0,s.jsx)(e.span,{style:{color:\"#F97583\"},children:\"await\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" redis.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"lrange\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(e.span,{style:{color:\"#9ECBFF\"},children:\"'elements'\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"0\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(e.span,{style:{color:\"#79B8FF\"},children:\"100\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\" )\"})]}),`\n`,(0,s.jsxs)(e.span,{className:\"line\",children:[(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"console.\"}),(0,s.jsx)(e.span,{style:{color:\"#B392F0\"},children:\"log\"}),(0,s.jsx)(e.span,{style:{color:\"#E1E4E8\"},children:\"(data)\"})]})]})})})]})}function N(l={}){let{wrapper:e}=l.components||{};return e?(0,s.jsx)(e,Object.assign({},l,{children:(0,s.jsx)(d,l)})):d(l)}var T=N;return f(v);})();\n;return Component;"
  },
  "_id": "projects/upstash-redis.mdx",
  "_raw": {
    "sourceFilePath": "projects/upstash-redis.mdx",
    "sourceFileName": "upstash-redis.mdx",
    "sourceFileDir": "projects",
    "contentType": "mdx",
    "flattenedPath": "projects/upstash-redis"
  },
  "type": "Project",
  "path": "/projects/upstash-redis",
  "slug": "upstash-redis"
}